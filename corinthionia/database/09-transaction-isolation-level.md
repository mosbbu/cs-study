## 트랜잭션 격리 수준 🎢

복수 개의 트랜잭션이 한번에 처리될 때, 특정 트랜잭션이 변경하거나 조회하고 있는 데이터에 대해서 다른 트랜잭션의 조회 허용 여부를 결정하는 것

<br/>

### 트랜잭션 격리 수준

아래에서 소개하는 트랜잭션 격리 수준은, 아래로 갈수록 격리 정도가 낮아지며, 동시 처리 성능이 높아진다. 하지만 데이터 정합성과 성능은 반비례한다.

<br/>

### 트랜잭션 격리 수준에 따라 발생할 수 있는 문제점

- 더티 리드 (Dirty Read): 특정 트랜잭션에 의해 데이터가 변경되었지만, 아직 커밋되지 않은 상황에서 다른 트랜잭션이 변경사항을 조회할 수 있게 되는 문제
- 반복 불가능한 조회 (non-Repeatable Read): 캍은 트랜잭션 내에서 같은 데이터를 여러 번 조회했을 때 읽어온 데이터가 다른 경우 발생
- 팬텀 리드 (Phantom Read): Non-Repeatable Read의 한 종류로, 조회한 결과의 행이 새로 생기거나 없어지는 현상

<br/>

### SERIALIZABLE (직렬화 기능)

- 특정 트랜잭션이 사용 중인 테이블의 모든 행을 다른 트랜잭션이 접근할 수 없도록 한다.
- 가장 높은 데이터 정합성을 가지지만, 성능은 가장 떨어진다.

<br/>

### REPEATABLE READ (반복 가능한 읽기)

- 특정 행을 조회할 때, 항상 같은 데이터를 응답하는 것을 보장하는 격리 수준
- SERIALIZABLE과 다르게 행이 추가되는 것을 막지 않는다 - 팬텀 리드 현상 발생 가능

<br/>

### READ COMMITTED (커밋된 읽기)

- 커밋이 완료된 트랜잭션의 변경사항만 다른 트랜잭션에서 조회할 수 있도록 허용하는 격리 수준
- 특정 트랜잭션이 이루어지는 동안 다른 트랜잭션은 해당 데이터에 접근할 수 없다
- 특정 트랜잭션에서 데이터가 변경되었으나 아직 커밋되지 않은 상태라면, 다른 트랜잭션에서는 해당 데이터에 접근했을 때 트랜잭션 시작 전 데이터를 읽어온다 - 팬텀 리드 & 반복 불가능한 조회 문제 발생
- 가장 많이 사용되는 격리 수준 ex. 오라클

<br/>

### READ UNCOMITTED (커밋되지 않은 읽기)

- 커밋이 되지 않은 트랜잭션의 데이터 변경 내용을 다른 트랜잭션이 조회하는 것을 허용하는 격리 수준
- 데이터 부정합 문제가 발생할 확률이 높지만 성능은 가장 빠르다
- 더티 리드 / 반복 불가능한 조회 / 팬텀 리드 현상 발생 가능

<br/>

---

<br/>

## Reference

- [데이터베이스 트랜잭션 격리 수준과 격리 수준에 따른 문제점](https://hudi.blog/transaction-isolation-level/)
